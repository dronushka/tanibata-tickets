"use client"

import { Stepper, Text } from "@mantine/core"
import { OrderStage } from "../hooks/useOrder"

const getStepNumber = (step?: OrderStage) => {
    const stages = ["authenticate", "form", "tickets", "payment", "complete"]
    return stages.findIndex(s => s === step)
}

export default function OrderStepper ({stage, isPending, noSeats = false}: {stage: OrderStage, isPending: boolean, noSeats?: boolean}) {
    return (
        <Stepper active={getStepNumber(stage)} breakpoint="sm" allowNextStepsSelect={false}>
                <Stepper.Step allowStepClick={false} label="–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è">
                    –í–≤–µ–¥–∏—Ç–µ email, –Ω–∞ –Ω–µ–≥–æ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è –≤—Ö–æ–¥–∞.
                </Stepper.Step>
                <Stepper.Step allowStepClick={false} label="–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">
                    {!isPending && <>
                        <Text>
                            –ü—Ä–∏ –æ–ø–ª–∞—Ç–µ —Å–æ —Å–≤–æ–µ–π –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –§–ò–û ‚Äî —ç—Ç–æ
                            –Ω—É–∂–Ω–æ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–ª–∞—Ç–µ–∂–∞, –∞ –µ—â—ë –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ç—ã —Å–º–æ–≥ –ø–æ–ø–∞—Å—Ç—å –Ω–∞ —Ñ–µ—Å—Ç–∏–≤–∞–ª—å.
                        </Text>
                        <Text>
                            –¢–∞–∫–∂–µ —É–∫–∞–∑—ã–≤–∞–π —Å–≤–æ–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç–µ,
                            —Å –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø–ª–∞—Ç–µ–∂.
                        </Text>
                        <Text>
                            –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –∏ –∞–¥—Ä–µ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã VK. –û–ø—ã—Ç –ø—Ä–æ—à–ª—ã—Ö —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç,
                            —á—Ç–æ —ç—Ç–æ —Å–∞–º—ã–π –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ —Å–æ –∑—Ä–∏—Ç–µ–ª—è–º–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ üòâ
                        </Text>
                        <Text>
                            –ï—Å–ª–∏ –æ–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ –¥—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞,
                            –§–ò–û –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ ¬´–§–ò–û¬ª.
                            –í –ø–æ–ª–µ ¬´–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π¬ª –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω—É–∂–Ω–æ –≤–ø–∏—Å–∞—Ç—å –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–∞–Ω–∫–æ–≤—Å–∫–æ–π –∫–∞—Ä—Ç—ã.
                        </Text>
                        <Text>
                            –ú—ã –ø—Ä–æ—Å–∏–º —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ–≥–æ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞.
                            –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Å—Ç–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ –Ω–∞ –ø–ª–æ—â–∞–¥–∫–µ –û–±–ª–∞—Å—Ç–Ω–æ–≥–æ –î–æ–º–∞ –ù–∞—Ä–æ–¥–Ω–æ–≥–æ –¢–≤–æ—Ä—á–µ—Å—Ç–≤–∞,
                            –Ω—É–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –∑—Ä–∏—Ç–µ–ª–µ–π, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ –±—É–¥—É—Ç –¥–æ–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é.
                            –ß—Ç–æ–±—ã –ø–æ—Ö–æ–¥ –Ω–∞ ¬´–ù—è–Ω-—Ñ–µ—Å—Ç¬ª –Ω–µ –±—ã–ª –æ–º—Ä–∞—á—ë–Ω –¥–æ—Å–∞–¥–Ω—ã–º–∏ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—è–º–∏ –∏ –Ω–µ—Ä–∞–∑–±–µ—Ä–∏—Ö–æ–π,
                            –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π –Ω–∞—à–µ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –Ω–µ –∑–∞–±—É–¥—å –≤–∑—è—Ç—å —Å —Å–æ–±–æ–π –æ—Ä–∏–≥–∏–Ω–∞–ª –ø–∞—Å–ø–æ—Ä—Ç–∞
                            –∏–ª–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏.
                        </Text>
                    </>}
                </Stepper.Step>
                <Stepper.Step allowStepClick={false} label={noSeats ? "–í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤" : "–í—ã–±–æ—Ä –º–µ—Å—Ç"}>
                    {noSeats ? "–í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤" : "–í—ã–±–æ—Ä –º–µ—Å—Ç"}
                </Stepper.Step>
                <Stepper.Step allowStepClick={false} label="–û–ø–ª–∞—Ç–∞">
                    –û–ø–ª–∞—Ç–∞
                </Stepper.Step>
                <Stepper.Completed>
                    –ó–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à–µ–Ω
                </Stepper.Completed>
            </Stepper>
    )
}